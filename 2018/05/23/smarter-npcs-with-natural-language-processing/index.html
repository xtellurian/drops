

<!DOCTYPE html>
<html lang="en" data-default-color-scheme=&#34;auto&#34;>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" type="image/png" href="/images/favicon.ico">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="My name is Rian Finnegan, and I write about engineering, software, and philosophy">
  <meta name="author" content="Rian Finnegan">
  <meta name="keywords" content="rian, finnegan, blog, engineering, software, philosophy">
  <title>Smarter NPCs with Natural Language Processing - Thoughts of Rian</title>

  <link  rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.0.0/styles/github-gist.min.css" />
    
  

  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_pf9vaxs7x7b.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.2.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>Rian</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                Home
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                About Me
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" href="javascript:">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner intro-2" id="background" parallax=true
         style="background: url('/images/bg/rain.jpg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="container page-header text-center fade-in-up">
            <span class="h2" id="subtitle">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2018-05-23 13:53" pubdate>
        Wednesday, May 23rd 2018, 1:53 pm
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      909 words
    </span>
  

  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="container nopadding-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto" id="post">
            <!-- SEO header -->
            <h1 style="display: none">Smarter NPCs with Natural Language Processing</h1>
            
            <div class="markdown-body" id="post-body">
              <h2 id="What-happened-in-Pokemon"><a href="#What-happened-in-Pokemon" class="headerlink" title="What happened in Pokemon?"></a>What happened in Pokemon?</h2><p>I remember Pokemon on GameBoy. An excellent game with many characters. Like all games (till now - more on that soon) the conversations were somewhat forced. The most creative moment was choosing your name in the beginning. Almost all my interactions with non-player chracters (NPC) involved multiple choice answers at best, and pre-canned conversations at worst.</p>
<p><img src="/images/NLU/Pokemonconversationscreenshot.png" srcset="/img/loading.gif" alt="Screenshot of a simple Yes or No answer to a question in Pokemon for Gameboy"></p>
<h2 id="Games-have-Evolved"><a href="#Games-have-Evolved" class="headerlink" title="Games have Evolved"></a>Games have Evolved</h2><p>A decade after Pokemon was first released on Gameboy, Fallout 3 was one of the most popular games in the world. For all its quality graphics and cool story, the NPC interations remain remarkably unchanged.</p>
<p><img src="/images/NLU/fallout3multiplechoice.jpg" srcset="/img/loading.gif" alt="Screenshot from Fallout 3 showing multiple choice answers"></p>
<h2 id="We-have-the-technology-We-can-do-better"><a href="#We-have-the-technology-We-can-do-better" class="headerlink" title="We have the technology. We can do better"></a>We have the technology. We can do better</h2><p>What if you could actually talk to NPCs? Well, now you can!</p>
<h3 id="What-is-Natural-Language-Understanding"><a href="#What-is-Natural-Language-Understanding" class="headerlink" title="What is Natural Language Understanding?"></a>What is Natural Language Understanding?</h3><blockquote>
<p>the application of computational techniques to the analysis and synthesis of natural language and speech.</p>
</blockquote>
<p>NLU, sometimes called Natural Language Processing (NLP), are methods for processing and using natural human speech or text in classical algorithms. Recent technological breakthroughs in Deep Learning have turbocharged NLU, and now you can use it in your own game or application.</p>
<script type="text/javascript" src="https://ssl.gstatic.com/trends_nrtr/1420_RC05/embed_loader.js"></script> <script type="text/javascript"> trends.embed.renderExploreWidget("TIMESERIES", {"comparisonItem":[{"keyword":"deep learning","geo":"","time":"today 5-y"}],"category":0,"property":""}, {"exploreQuery":"date=today%205-y&q=deep%20learning","guestPath":"https://trends.google.com:443/trends/embed/"}); </script> 

<h3 id="Sounds-hard…"><a href="#Sounds-hard…" class="headerlink" title="Sounds hard…"></a>Sounds hard…</h3><p>Not really, check this out.</p>
<p>LUIS - the Language Understanding and Intelligence Service from Microsoft Azure - is super simple to use. You can follow <a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/azure/cognitive-services/luis/luis-get-started-create-app">this tutorial</a> and get started in just 10 minutes!</p>
<p>Aside: if you’re in Australia, make sure you head to the au.luis.ai domain.</p>
<h3 id="What’s-LUIS-the-quick-version"><a href="#What’s-LUIS-the-quick-version" class="headerlink" title="What’s LUIS - the quick version"></a>What’s LUIS - the quick version</h3><p>LUIS is a web service, invoked via a REST endpoint, that converts sentences (called ‘utterances’) like this:</p>
<p><code>Order me 2 pizzas</code></p>
<p>into data structures like this:</p>
<pre><code class="hljs js">&#123;
   <span class="hljs-string">&quot;query&quot;</span>: <span class="hljs-string">&quot;Order me 2 pizzas&quot;</span>,
   <span class="hljs-string">&quot;topScoringIntent&quot;</span>: &#123;
       <span class="hljs-string">&quot;intent&quot;</span>: <span class="hljs-string">&quot;FoodOrder&quot;</span>,
       <span class="hljs-string">&quot;score&quot;</span>: <span class="hljs-number">0.9999981</span>
   &#125;,
   <span class="hljs-string">&quot;intents&quot;</span>: [
       &#123;
           <span class="hljs-string">&quot;intent&quot;</span>: <span class="hljs-string">&quot;FoodOrder&quot;</span>,
           <span class="hljs-string">&quot;score&quot;</span>: <span class="hljs-number">0.9999981</span>
       &#125;,
       &#123;
           <span class="hljs-string">&quot;intent&quot;</span>: <span class="hljs-string">&quot;None&quot;</span>,
           <span class="hljs-string">&quot;score&quot;</span>: <span class="hljs-number">0.0604290478</span>
       &#125;,
       &#123;
           <span class="hljs-string">&quot;intent&quot;</span>: <span class="hljs-string">&quot;Reminder&quot;</span>,
           <span class="hljs-string">&quot;score&quot;</span>: <span class="hljs-number">0.00177723425</span>
       &#125;
   ],
   <span class="hljs-string">&quot;entities&quot;</span>: [
       &#123;
           <span class="hljs-string">&quot;entity&quot;</span>: <span class="hljs-string">&quot;2&quot;</span>,
           <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;builtin.number&quot;</span>,
           <span class="hljs-string">&quot;startIndex&quot;</span>: <span class="hljs-number">9</span>,
           <span class="hljs-string">&quot;endIndex&quot;</span>: <span class="hljs-number">9</span>,
           <span class="hljs-string">&quot;resolution&quot;</span>: &#123;
               <span class="hljs-string">&quot;value&quot;</span>: <span class="hljs-string">&quot;2&quot;</span>
           &#125;
       &#125;,
       &#123;
           <span class="hljs-string">&quot;entity&quot;</span>: <span class="hljs-string">&quot;pizzas&quot;</span>,
           <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;FoodType&quot;</span>,
           <span class="hljs-string">&quot;startIndex&quot;</span>: <span class="hljs-number">11</span>,
           <span class="hljs-string">&quot;endIndex&quot;</span>: <span class="hljs-number">16</span>,
           <span class="hljs-string">&quot;score&quot;</span>: <span class="hljs-number">0.8928091</span>
       &#125;
   ]
&#125;</code></pre>
<p>If you’re making a game or an app, and you can make web requests, then you can have NPCs that respond to natural language!</p>
<h2 id="Now-for-the-good-part"><a href="#Now-for-the-good-part" class="headerlink" title="Now for the good part"></a>Now for the good part</h2><p>Modern games are much more sophisticated than Gameboy Pokemon and Fallout 3. Cutting edge games are now in virtual reality (VR) on platforms like <a target="_blank" rel="noopener" href="https://www.vive.com/">Vive</a>, <a target="_blank" rel="noopener" href="https://www.oculus.com/">Oculus</a>, and <a target="_blank" rel="noopener" href="https://www.microsoft.com/en-au/windows/windows-mixed-reality">Windows Mixed Reality</a>. But we’re starting to use VR for other interesting applications.</p>
<h3 id="Experience-a-New-Language-in-VR-with-V-KAIWA"><a href="#Experience-a-New-Language-in-VR-with-V-KAIWA" class="headerlink" title="Experience a New Language in VR with V-KAIWA"></a>Experience a New Language in VR with V-KAIWA</h3><p><a target="_blank" rel="noopener" href="http://www.v-kaiwa.com/en/home/">V-KAIWA</a> are building an amazing tool for students to experience language learning in VR. Beyond building stylised worlds and engaging story lines, V-KAIWA are building customisable conversational NPCs. Let’s break that down.</p>
<h4 id="Conversational-NPCs"><a href="#Conversational-NPCs" class="headerlink" title="Conversational NPCs"></a>Conversational NPCs</h4><p>As the name suggests, a conversational NPC is a character with which you can converse. OK, so they aren’t going to pass a <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Turing_test">Turing test</a>, but they can respond to natural language. Ask the hot dog vendor on the street for a hot dog, and you’ll get one! Ask a stranger for directions, and they’ll help! But if you ask a stranger for the meaning of life - of course you’ll get a silly answer (actually that’s kind of realistic).</p>
<h4 id="Customisable-NPCs"><a href="#Customisable-NPCs" class="headerlink" title="Customisable NPCs"></a>Customisable NPCs</h4><p>V-KAIWA let’s language teachers customise the way their students can converse with NPCs. How does this work in practice? Imagine a language class on recognising descriptions of people and objects. The teacher can describe a person (a woman in a jacket) and name an item (a newspaper) and the students must complete a scenario in the virtual world. The teacher can build precisely that conversation scenario in V-KAIWA’s designer tool!</p>
<p><img src="/images/NLU/vkaiwadesigner.gif" srcset="/img/loading.gif" alt="Creating an NPC interaction definition in the V-KAIWA interaction designer"></p>
<p>When the student find the newspaper, he can talk with the woman.</p>
<blockquote>
<p><em>Student</em>: Here’s the newspaper you asked for.<br><em>Woman in Jacket</em>: Thanks, I was looking for one of those.</p>
</blockquote>
<p>It’s almost too easy.</p>
<h4 id="Sugar-on-top"><a href="#Sugar-on-top" class="headerlink" title="Sugar on top"></a>Sugar on top</h4><p>By using speech-to-text and speech synthesis tools, V-KAIWA make every NPC interaction aural. You can speak directly to NPCs, and they speak back. LUIS means you can speak naturally. <a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/windows/mixed-reality/gaze-targeting">Gaze</a> means you speak to the NPC you’re looking at.</p>
<p><img src="/images/NLU/vkaiwaarchitecture.png" srcset="/img/loading.gif" alt="System design of V-KAIWAs customisable conversational NPCs"></p>
<h3 id="I-want-that"><a href="#I-want-that" class="headerlink" title="I want that!"></a>I want that!</h3><p>Well you can have it! There’s a great blog written by some of my collegues at <a target="_blank" rel="noopener" href="http://www.roadtomr.com/2018/05/08/2508/natural-language-for-simulations/">Road to MR</a> describing how to use LUIS in your Unity project. They’ve created a great Unity Package you can use to get started quickly. </p>
<p>What about the designer? It’s also open source and <a target="_blank" rel="noopener" href="https://github.com/xtellurian/v-kaiwa-designer">available on github</a></p>
<h2 id="CSE-Hacks"><a href="#CSE-Hacks" class="headerlink" title="CSE Hacks"></a>CSE Hacks</h2><p>This work was a collaboration between Microsoft and V-KAIWA. Big thanks to them for letting me work on their exciting product.</p>
<p><blockquote class="twitter-tweet" data-lang="en"><p lang="en" dir="ltr">Seiya presenting at <a target="_blank" rel="noopener" href="https://twitter.com/Microsoft?ref_src=twsrc%5Etfw">@Microsoft</a> <a target="_blank" rel="noopener" href="https://twitter.com/Microsoft?ref_src=twsrc%5Etfw">@microsoft</a> Mixed Reality Hackfest - our beginners product did a complete 180 (in a good way!) - full demo video coming soon 😉 <br><br>And special props <a target="_blank" rel="noopener" href="https://twitter.com/xtellurian?ref_src=twsrc%5Etfw">@xtellurian</a> for being part of V-KAIWA for the week 🤓 <a target="_blank" rel="noopener" href="https://t.co/bmhUpQItKC">pic.twitter.com/bmhUpQItKC</a></p>&mdash; V-KAIWA (@v_kaiwa) <a target="_blank" rel="noopener" href="https://twitter.com/v_kaiwa/status/997417548852310017?ref_src=twsrc%5Etfw">May 18, 2018</a></blockquote></p>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                
              </div>
              
              
                <div class="post-prevnext row">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2018/08/02/bots-in-kubernetes/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Bots in Kubernetes</span>
                        <span class="visible-mobile">Previous</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2018/03/11/xamarin-chatbots/">
                        <span class="hidden-mobile">Building Xamarin.Forms Chatbots with Bot Framework Direct Line API</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;TOC</p>
  <div id="tocbot"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    
  </main>

  
    <a id="scroll-top-button" href="#" role="button">
      <i class="iconfont icon-arrowup" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  

  

  <footer class="mt-5">
  <div class="text-center py-3">
    <div>
      <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a>
      <i class="iconfont icon-love"></i>
      <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener">
        <span>Fluid</span></a>
    </div>
    

    

    
  </div>
</footer>

<!-- SCRIPTS -->
<script  src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/main.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/lazyload.js" ></script>
  



  









  <script  src="https://cdn.staticfile.org/tocbot/4.11.1/tocbot.min.js" ></script>
  <script>
    $(document).ready(function () {
      var boardCtn = $('#board-ctn');
      var boardTop = boardCtn.offset().top;

      tocbot.init({
        tocSelector: '#tocbot',
        contentSelector: '#post-body',
        headingSelector: 'h1,h2,h3,h4,h5,h6',
        linkClass: 'tocbot-link',
        activeLinkClass: 'tocbot-active-link',
        listClass: 'tocbot-list',
        isCollapsedClass: 'tocbot-is-collapsed',
        collapsibleClass: 'tocbot-is-collapsible',
        collapseDepth: 0,
        scrollSmooth: true,
        headingsOffset: -boardTop
      });
      if ($('.toc-list-item').length > 0) {
        $('#toc').css('visibility', 'visible');
      }
    });
  </script>



  <script  src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js" ></script>
  <script>
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "Smarter NPCs with Natural Language Processing&nbsp;",
      ],
      cursorChar: "_",
      typeSpeed: 70,
      loop: false,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>



  <script  src="https://cdn.staticfile.org/anchor-js/4.2.2/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "hover",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      searchFunc(path, 'local-search-input', 'local-search-result');
      this.onclick = null
    }
  </script>



  <script  src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />

  <script>
    $('#post img:not(.no-zoom img, img[no-zoom]), img[zoom]').each(
      function () {
        var element = document.createElement('a');
        $(element).attr('data-fancybox', 'images');
        $(element).attr('href', $(this).attr('src'));
        $(this).wrap(element);
      }
    );
  </script>




















</body>
</html>
